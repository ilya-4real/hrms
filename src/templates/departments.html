<main class="min-h-screen bg-indigo-100">
	<div class="flex">
		<div class="w-1/4 bg-white p-6 shadow-lg">
			<h2 class="text-xl font-bold mb-4">Statistics</h2>
			<div hx-get="/statistics/employee_stats" hx-swap="this" hx-trigger="load" class="space-y-4">
				<!-- Statistic 1 -->
				<div class="bg-gray-50 p-4 rounded-lg">
					<p class="text-gray-600">Loading...</p>
				</div>
			</div>
		</div>
		<div class="flex-1 p-6">
			<h2 class="text-xl font-bold mb-4">Departments</h2>
			<div id="deprtments_container" class="grid grid-cols-3 gap-6">
				{% for dep in departments %}
				<div hx-get="departments/{{dep.oid}}/detail" hx-trigger="click" hx-target="main" class="bg-white p-6 rounded-lg shadow-lg hover:bg-gray-100">
					<h3 class="text-lg font-bold mb-2">{{dep.name}}</h3>
					<p class="text-gray-600">Employees: {{dep.employees|length}}</p>
				</div>
				{% endfor %}
				<div class="bg-white rounded-lg shadow-md border-3 border-dashed border-indigo-300 p-6">
					<form hx-post="/departments" hx-target="#deprtments_container" hx-swap="afterbegin" id="create_dep">
						<h2 class="text-xl font-bold mb-2">New department</h2>
						<input type="text" name="department_name" required class="px-1 border-1 border-gray-300 rounded-lg py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full">
						<div class="flex mt-3">

						<button type="submit" class="mx-auto bg-indigo-600 rounded-lg px-4 py-2 text-white hover:bg-gray-600">Create</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</main>
