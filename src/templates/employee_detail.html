<div class="mx-auto w-[60%] bg-white shadow-lg rounded-lg p-8" id="employee_info">
	<h2 class="text-xl font-semibold text-gray-800">{{employee.first_name}} {{employee.second_name}}</h2>
	<p><span class="font-medium">{{employee.department.name}} / </span> {{employee.job_title}}</p>
	<div class="flex gap-8 my-5">
		<!-- First Div: General Employee Info -->
		<div class="flex-1 space-y-4">
			<div class="space-y-2 text-gray-600">
				<p><span class="font-medium">Salary:</span> {{employee.salary}}</p>
				<p><span class="font-medium">Award:</span> {{employee.award}}</p>
				<p>
					<span class="font-medium">Workload:</span> 
					<span class="px-2 py-1 text-sm bg-sky-100 text-green-800 rounded-full">{{employee.workload.value}}</span>
				</p>
				<p>
					<span class="font-medium">Work Location:</span>
					<span class="px-2 py-1 text-sm bg-blue-100 text-blue-800 rounded-full">{{employee.work_location.value}}</span>
				</p>
			</div>
		</div>
		<!-- Second Div: Salary, Awards, and Contact Info -->
		<div class="flex-1 space-y-4">
			<div class="space-y-2 text-gray-600">
				<p><span class="font-medium">Email:</span> {{employee.email_address}} </p>
				<p>
					<span class="font-medium">Social Media:</span>
					<a href="{{employee.sm_link}}" class="text-blue-500 hover:underline">here</a>
				</p>
				<p><span class="font-medium">Hire Date:</span> {{employee.hire_date}}</p>
			</div>
		</div>

	</div>
	<div class="rounded-xl bg-sky-50 py-4 px-2" title="75% of KPI achieved">
		<p class="font-medium mb-2 text-gray-700">Tasks completed this months</p>
		<div class="flex items-center gap-4">
			<!-- Current KPI Value -->
			<div class="text-gray-700">
				75 <!-- Replace with dynamic value -->
			</div>

			<div class="flex-1 bg-gray-200 rounded-full h-2.5">
				<div class="bg-indigo-300 h-2.5 rounded-full" style="width: 75%;"></div>
			</div>

			<!-- Goal -->
			<div class="text-gray-700">
				100 <!-- Replace with dynamic value -->
			</div>
		</div>
	</div>
	<div class="flex">
		<button hx-get="/employees/{{employee.oid}}/update_form" hx-target="#employee_info" class="w-30 mt-5 mx-auto bg-indigo-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600">Edit</button>
	</div>
</div>
<div class="my-4 mx-auto w-[60%] bg-white shadow-lg rounded-lg p-8">
	<canvas id="kpi_chart_1">
	</canvas>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

	function InitKPIChart(){
		let kpi_chart;
		let canvas = document.getElementById('kpi_chart_1');
		if (kpi_chart) {
			kpi_chart.destroy();
		}
        kpi_chart = new Chart(canvas, {
            type: 'line',
            data: {
                labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                datasets: [{
                    label: 'dynamics of KPI',
                    data: [NaN, NaN, 72, 75, 73, 78, 82, 79, 84, 85, 86, 83],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: false
                    }
                }
            }
        });
	}
	InitKPIChart();
</script>
</div>
